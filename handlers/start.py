"""
–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start –∏ –æ–±—â–∏—Ö –∫–æ–º–∞–Ω–¥
"""
from aiogram import Router, F
from aiogram.filters import Command
from aiogram.types import Message, CallbackQuery
from aiogram.fsm.context import FSMContext

from keyboards import main_kb, back_kb


router = Router(name="start")


@router.message(Command("start"))
async def start_command(message: Message, state: FSMContext):
    """–ö–æ–º–∞–Ω–¥–∞ /start - –î—É—à–µ–≤–Ω–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ"""
    await state.clear()
    
    user_name = message.from_user.first_name or "–¥—Ä—É–≥"
    
    welcome_text = (
        f"üëã –ü—Ä–∏–≤–µ—Ç, {user_name}!\n\n"
        f"üéâ <b>Chicken Chief –∫ —Ç–≤–æ–∏–º —É—Å–ª—É–≥–∞–º!</b>\n\n"
        f"–Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ:\n"
        f"‚Ä¢ ‚ö° <b>–ë—ã—Å—Ç—Ä–æ –±—Ä–∞—Ç—å –ø–æ—Ä—Ü–∏–∏</b> (200–≥/300–≥ –æ–¥–Ω–∏–º —Ç–∞–ø–æ–º)\n"
        f"‚Ä¢ üìä <b>–°–ª–µ–¥–∏—Ç—å –∑–∞ –æ—Å—Ç–∞—Ç–∫–æ–º</b> —Å –∫—Ä–∞—Å–∏–≤—ã–º —Å—Ç–∞—Ç—É—Å–æ–º\n"
        f"‚Ä¢ üìà <b>–í–∏–¥–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</b> –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è\n"
        f"‚Ä¢ üíæ <b>–ù–µ —Ç–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ</b> (–∞–≤—Ç–æ–±—ç–∫–∞–ø—ã)\n\n"
        f"<b>–ù–∞—á–Ω–∏ —Å —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä—Ç–∏–∏!</b> üëá\n"
        f"‚ûï –ù–æ–≤–∞—è –ø–∞—Ä—Ç–∏—è ‚Üí —É–∫–∞–∂–∏ —Å—ã—Ä–æ–π –∏ –≥–æ—Ç–æ–≤—ã–π –≤–µ—Å\n\n"
        f"–î–∞–ª—å—à–µ –≤—Å—ë –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! ‚ú®"
    )
    
    await message.answer(
        welcome_text,
        reply_markup=main_kb()
    )


@router.callback_query(F.data == "cancel")
async def cancel_operation(callback: CallbackQuery, state: FSMContext):
    """–û—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏"""
    await state.clear()
    await callback.message.edit_text(
        "‚ùå –û–ø–µ—Ä–∞—Ü–∏—è –æ—Ç–º–µ–Ω–µ–Ω–∞",
        reply_markup=main_kb()
    )
    await callback.answer("–û—Ç–º–µ–Ω–µ–Ω–æ")


@router.callback_query(F.data == "help")
async def help_command(callback: CallbackQuery):
    """–ü–æ–º–æ—â—å –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –±–æ—Ç–∞"""
    help_text = (
        "üìñ <b>–ì–ê–ô–î –ü–û –ë–û–¢–£</b>\n\n"
        
        "‚ö° <b>–ë–´–°–¢–†–´–ï –î–ï–ô–°–¢–í–ò–Ø</b> (NEW!)\n"
        "‚Ä¢ <b>‚ö° 200–≥ / ‚ö° 300–≥</b> - –≤–∑—è—Ç—å –ø–æ—Ä—Ü–∏—é –æ–¥–Ω–∏–º —Ç–∞–ø–æ–º\n"
        "–°–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±! –ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏ –∏ –≥–æ—Ç–æ–≤–æ.\n\n"
        
        "üìä <b>–°–û–ó–î–ê–ù–ò–ï –ü–ê–†–¢–ò–ò</b>\n"
        "‚Ä¢ –ù–∞–∂–º–∏ <b>‚ûï –ù–æ–≤–∞—è –ø–∞—Ä—Ç–∏—è</b>\n"
        "‚Ä¢ –í–≤–µ–¥–∏ –≤–µ—Å —Å—ã—Ä–æ–π –∫—É—Ä–∏—Ü—ã (1500 –∏–ª–∏ 1.5–∫–≥)\n"
        "‚Ä¢ –í–≤–µ–¥–∏ –≤–µ—Å –≥–æ—Ç–æ–≤–æ–π\n"
        "‚Ä¢ –î–æ–±–∞–≤—å –∑–∞–º–µ—Ç–∫—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)\n"
        "‚Ä¢ –ì–æ—Ç–æ–≤–æ! –Ø –∑–∞–ø–æ–º–Ω—é –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç.\n\n"
        
        "üçó <b>–í–ó–Ø–¢–¨ –ü–û–†–¶–ò–Æ</b>\n"
        "‚Ä¢ <b>–ë—ã—Å—Ç—Ä–æ:</b> ‚ö° 200–≥ –∏–ª–∏ ‚ö° 300–≥\n"
        "‚Ä¢ <b>–û–±—ã—á–Ω–æ:</b> üçó –í–∑—è—Ç—å –ø–æ—Ä—Ü–∏—é ‚Üí –≤—ã–±–µ—Ä–∏ –≤–µ—Å\n"
        "–Ø –ø–æ–∫–∞–∂—É —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ –≥–æ—Ç–æ–≤–æ–π –∏ –æ–±–Ω–æ–≤–ª—é —Å—Ç–∞—Ç—É—Å!\n\n"
        
        "üìà <b>–°–¢–ê–¢–ò–°–¢–ò–ö–ê</b> (NEW!)\n"
        "‚Ä¢ –ù–∞–∂–º–∏ <b>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</b>\n"
        "‚Ä¢ –í—ã–±–µ—Ä–∏ –ø–µ—Ä–∏–æ–¥: —Å–µ–≥–æ–¥–Ω—è / –Ω–µ–¥–µ–ª—è / –º–µ—Å—è—Ü\n"
        "‚Ä¢ –£–≤–∏–¥–∏—à—å —Å–∫–æ–ª—å–∫–æ —Å—ä–µ–ª, —Ç—Ä–µ–Ω–¥—ã, —Å—Ä–µ–¥–Ω–∏–µ –ø–æ—Ä—Ü–∏–∏\n\n"
        
        "üìä <b>–û–°–¢–ê–¢–û–ö</b>\n"
        "‚Ä¢ –°—Ç–∞—Ç—É—Å —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–º üü©‚¨ú\n"
        "‚Ä¢ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è\n"
        "‚Ä¢ –ó–∞–∫—Ä–µ–ø–∏ –≤ —Ç–æ–ø–∏–∫–µ (–æ–¥–∏–Ω —Ä–∞–∑ –≤—Ä—É—á–Ω—É—é)\n\n"
        
        "üíæ <b>–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨</b>\n"
        "‚Ä¢ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 03:00\n"
        "‚Ä¢ –†—É—á–Ω–æ–π –±—ç–∫–∞–ø: /admin ‚Üí üíæ –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø\n\n"
        
        "üîî <b>–£–í–ï–î–û–ú–õ–ï–ù–ò–Ø</b>\n"
        "‚Ä¢ –Ø –Ω–∞–ø–æ–º–Ω—é –∫–æ–≥–¥–∞ –æ—Å—Ç–∞—Ç–æ–∫ –Ω–∏–∑–∫–∏–π\n"
        "‚Ä¢ –ü–æ–¥—Å–∫–∞–∂—É –∫–æ–≥–¥–∞ –ø–æ—Ä–∞ –≥–æ—Ç–æ–≤–∏—Ç—å\n\n"
        
        "<i>–ù–∞—Å–ª–∞–∂–¥–∞–π—Å—è —É–¥–æ–±—Å—Ç–≤–æ–º! ‚ú®</i>"
    )
    
    await callback.message.edit_text(
        help_text,
        reply_markup=back_kb()
    )
    await callback.answer()
